<form [formGroup]="addForm" novalidate>
  <p class="subtitle-1">Новая активность</p>

  <mat-form-field>
    <mat-label>Допустимое время начала</mat-label>
    <input matInput readonly [ngxMatDatetimePicker]="pickerStartDate" formControlName="startTime">
    <mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
    <ngx-mat-datetime-picker #pickerStartDate [defaultTime]=[8,0]
                             [stepHour]=1 [stepMinute]=10>
    </ngx-mat-datetime-picker>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Допустимое время конца</mat-label>
    <input matInput readonly [ngxMatDatetimePicker]="pickerEndDate" formControlName="endTime">
    <mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
    <ngx-mat-datetime-picker #pickerEndDate [defaultTime]=[8,0]
                             [stepHour]=1 [stepMinute]=10>
    </ngx-mat-datetime-picker>
  </mat-form-field>

  <mat-form-field>
    <mat-label class="">Продолжительность</mat-label>
    <input matInput formControlName="interval" [ngxTimepicker]="interval"  [format]="24" readonly>
    <ngx-material-timepicker #interval  [enableKeyboardInput]="true" [theme]="theme"></ngx-material-timepicker>
    <mat-error *ngIf="addForm.get('interval').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label class="">Периодичность</mat-label>
    <mat-select formControlName="periodicity">
      <mat-option *ngFor="let periodicity of periodicityList" [value]="periodicity">{{periodicity}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Формат</mat-label>
    <mat-select formControlName="format">
      <mat-option *ngFor="let type of activitiesFormat" [value]="type">{{type}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Влияние на уровень стресса</mat-label>
    <input matInput formControlName="impactOnStressLevel">
    <mat-error *ngIf="addForm.get('impactOnStressLevel').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

<!--  локации будут в отдельном документе для конкретного человека-->
  <mat-form-field>
    <mat-label>Локация</mat-label>
    <input matInput formControlName="location">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Тип активности</mat-label>
    <mat-select formControlName="activityType">
      <mat-option *ngFor="let type of activities" [value]="type">{{type}}</mat-option>
    </mat-select>
    <mat-error *ngIf="addForm.get('activityType').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="isLesson">
    <mat-label>Аудитория</mat-label>
    <input matInput formControlName="room">
    <mat-error *ngIf="addForm.get('room').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="isLesson">
    <mat-label>Преподаватель</mat-label>
    <input matInput formControlName="teacher">
    <mat-error *ngIf="addForm.get('teacher').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="isLesson">
    <mat-label>Тип учебного занятия</mat-label>
    <mat-select formControlName="lessonType">
      <mat-option *ngFor="let type of lessonsType" [value]="type">{{type}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field *ngIf="isSport">
    <mat-label>Тип спортивного занятия</mat-label>
    <input matInput formControlName="sportType">
    <mat-error *ngIf="addForm.get('sportType').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="isOther">
    <mat-label>Описание</mat-label>
    <input matInput formControlName="description">
    <mat-error *ngIf="addForm.get('description').hasError('required')">
      Поле обязательно для заполнения
    </mat-error>
  </mat-form-field>

<!--  <mat-checkbox formControlName="isDone" labelPosition='before' class="dialog-checkbox">-->
<!--    Готовность-->
<!--  </mat-checkbox>-->

  <div class="activities-dialog__actions">
    <button mat-button (click)="closeDialog()">Отмена</button>
    <button mat-button [disabled]="addForm.invalid">
      Добавить
    </button>
  </div>
</form>


